<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <title>PHPUnit マニュアル &#8211; 第13章 PHPUnit と Selenium</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="canonical" href="selenium.html">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/highlight.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700%7CSource+Code+Pro:400,700' rel='stylesheet' type='text/css'>
  <!--[if lt IE 9]><script src="js/html5shiv.min.js"></script><![endif]-->
 </head>
 <body>
  
  <div class="container-fluid">
   <div class="row">
    <div style='padding: 1.5em'>
     <div class="row">
      <div class="col-md-1 pull-left prev-nav"><a accesskey="p" href="other-uses-for-tests.html">戻る</a></div>
      <div class="col-md-1 pull-right next-nav"><a accesskey="n" href="logging.html">次へ</a></div>
     </div>
<div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="selenium"></a>第13章 PHPUnit と Selenium</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="selenium.selenium-rc"></a>Selenium Server</h2></div></div></div><p>
      <a id="idp952032" class="indexterm"></a>

      <a class="ulink" href="http://seleniumhq.org/" target="_top">Selenium Server</a>
      はテストツールのひとつです。これは、OS を通してブラウザのプロセスを動かし、
      ブラウザのタスクを自動実行します。
      あらゆるプログラミング言語で稼動しているウェブサイトに対応しており、
      現在主流のあらゆるブラウザで使用することができます。Selenium RC は
      <a class="ulink" href="http://seleniumhq.org/" target="_top">Selenium Core</a>
      を使用しています。これは、ブラウザ上でのタスクを自動的に実行する
      JavaScript のライブラリです。Selenium でのテストは、
      一般のユーザが使用するのと同じようにブラウザ上で直接実行されます。
      主な使用例としては、<span class="emphasis"><em>受け入れテスト</em></span>
      (各システム単体のテストではなく、結合されたシステム全体に対するテスト)
      や <span class="emphasis"><em>ブラウザの互換性のテスト</em></span>
      (ウェブアプリケーションを、さまざまなオペレーティングシステムやブラウザでテストする)
      などがあります。
    </p><p>
      PHPUnit_Selenium がサポートしている唯一のシナリオは、
      Selenium 2.x サーバを使うものです。
      Selenium 2.x サーバにアクセスするには、1.0 から存在する古い形式の Selenium RC API を使うか、
      あるいは PHPUnit_Selenium 1.2 で一部実装済みの WebDriver API を使います。
    </p><p>
      なぜそうしたかというと、Selenium 2 には後方互換性があり、
      Selenium RC がもうメンテナンスされていないからです。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="selenium.installation"></a>インストール</h2></div></div></div><p>
      まず、Selenium Server をインストールします。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><a class="ulink" href="http://seleniumhq.org/download/" target="_top">Selenium Server</a> の配布アーカイブをダウンロードする。</li><li class="listitem">アーカイブを展開し、<code class="filename">selenium-server-standalone-2.9.0.jar</code> (バージョンをチェックすること) を <code class="filename">/usr/local/bin</code> などにコピーする。</li><li class="listitem"><strong class="userinput"><code>java -jar /usr/local/bin/selenium-server-standalone-2.9.0.jar</code></strong> などのようにして Selenium RC サーバを起動する。</li></ol></div><p>
      PHPUnit_Selenium パッケージは、PHPUnit の PHAR 版の中に含まれています。
      Composer でインストールするには、
      <code class="literal">"require-dev"</code>
      に次の行を追加します。
    </p><pre class="screen"><strong class="userinput"><code>"phpunit/phpunit-selenium": "&gt;=1.2"</code></strong></pre><p>
      これで、クライアント/サーバ プロトコルを用いて
      Selenium Server にコマンドを送信できるようになりました。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="selenium.selenium2testcase"></a>PHPUnit_Extensions_Selenium2TestCase</h2></div></div></div><p>
      <a id="idp885424" class="indexterm"></a>

      <code class="literal">PHPUnit_Extensions_Selenium2TestCase</code> テストケースは、
      WebDriver API を利用します (実装しているのはその一部だけです)。
    </p><p>
      <a class="xref" href="selenium.html#selenium.selenium2testcase.examples.WebTest.php" title="例 13.1: PHPUnit_Extensions_Selenium2TestCase の使用例">例 13.1</a> は、
      ウェブサイト <code class="systemitem">http://www.example.com/</code>
      の <code class="literal">&lt;title&gt;</code> 要素の内容をテストする方法を示したものです。
    </p><div class="example"><a id="selenium.selenium2testcase.examples.WebTest.php"></a><p class="title"><strong>例 13.1: PHPUnit_Extensions_Selenium2TestCase の使用例</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class WebTest extends PHPUnit_Extensions_Selenium2TestCase
{
    protected function setUp()
    {
        $this-&gt;setBrowser('firefox');
        $this-&gt;setBrowserUrl('http://www.example.com/');
    }

    public function testTitle()
    {
        $this-&gt;url('http://www.example.com/');
        $this-&gt;assertEquals('Example WWW Page', $this-&gt;title());
    }

}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit WebTest</code></strong>
PHPUnit 4.2.0 by Sebastian Bergmann.

F

Time: 28 seconds, Memory: 3.00Mb

There was 1 failure:

1) WebTest::testTitle
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Example WWW Page'
+'IANA — Example domains'

/home/giorgio/WebTest.php:13

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></br><p>    
    Selenium2TestCase のコマンドは __call() を使って実装しています。
    サポートする機能の一覧は
    <a class="ulink" href="https://github.com/sebastianbergmann/phpunit-selenium/blob/master/Tests/Selenium2TestCaseTest.php" target="_top">PHPUnit_Extensions_Selenium2TestCase のエンドツーエンドテスト</a>
    を参照ください。
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="selenium.seleniumtestcase"></a>PHPUnit_Extensions_SeleniumTestCase</h2></div></div></div><p>
      <a id="idp917888" class="indexterm"></a>

      <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code>
      は、Selenium Server と通信するための クライアント/サーバ プロトコルを実装したものです。
      また、ウェブのテスト用に特化したアサーションメソッドも提供します。
    </p><p>
      <a class="xref" href="selenium.html#selenium.seleniumtestcase.examples.WebTest.php" title="例 13.2: PHPUnit_Extensions_SeleniumTestCase の使用例">例 13.2</a> は、
      ウェブサイト <code class="systemitem">http://www.example.com/</code>
      の <code class="literal">&lt;title&gt;</code> 要素の内容をテストする方法を示したものです。
    </p><div class="example"><a id="selenium.seleniumtestcase.examples.WebTest.php"></a><p class="title"><strong>例 13.2: PHPUnit_Extensions_SeleniumTestCase の使用例</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'PHPUnit/Extensions/SeleniumTestCase.php';

class WebTest extends PHPUnit_Extensions_SeleniumTestCase
{
    protected function setUp()
    {
        $this-&gt;setBrowser('*firefox');
        $this-&gt;setBrowserUrl('http://www.example.com/');
    }

    public function testTitle()
    {
        $this-&gt;open('http://www.example.com/');
        $this-&gt;assertTitle('Example WWW Page');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit WebTest</code></strong>
PHPUnit 4.2.0 by Sebastian Bergmann.

F

Time: 9 seconds, Memory: 6.00Mb

There was 1 failure:

1) WebTest::testTitle
Current URL: http://www.iana.org/domains/example/

Failed asserting that 'IANA — Example domains' matches PCRE pattern "/Example WWW Page/".


FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></br><p>
      <code class="literal">PHPUnit_Framework_TestCase</code> クラスとは異なり、
      <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code> を継承したテストケースクラスは
      <code class="literal">setUp()</code> メソッドが必須となります。
      このメソッド内で、Selenium Server セッションの設定を行います。
      ここで使用できるメソッドの一覧は
      <a class="xref" href="selenium.html#selenium.seleniumtestcase.tables.seleniumrc-api.setup" title="表13.1 Selenium Server API: セットアップ">表 13.1</a>
      を参照ください。
    </p><div class="table"><a id="selenium.seleniumtestcase.tables.seleniumrc-api.setup"></a><p class="title"><strong>表13.1 Selenium Server API: セットアップ</strong></p><div class="table-contents"><table summary="Selenium Server API: セットアップ" border="1"><colgroup><col></col><col></col></colgroup><thead><tr><th align="left">メソッド</th><th align="left">意味</th></tr></thead><tbody><tr><td align="left"><code class="literal">void setBrowser(string $browser)</code></td><td align="left">Selenium Server が使用するブラウザを設定します。</td></tr><tr><td align="left"><code class="literal">void setBrowserUrl(string $browserUrl)</code></td><td align="left">テストするベース URL を設定します。</td></tr><tr><td align="left"><code class="literal">void setHost(string $host)</code></td><td align="left">Selenium Server に接続する際のホスト名を設定します。</td></tr><tr><td align="left"><code class="literal">void setPort(int $port)</code></td><td align="left">Selenium Server に接続する際のポートを設定します。</td></tr><tr><td align="left"><code class="literal">void setTimeout(int $timeout)</code></td><td align="left">Selenium Server に接続する際のタイムアウト値を設定します。</td></tr><tr><td align="left"><code class="literal">void setSleep(int $seconds)</code></td><td align="left">Selenium Server クライアントが、Selenium Server のサーバにアクションコマンドを送信してから待機する秒数を設定します。</td></tr></tbody></table></div></div><br class="table-break"></br><p>
      PHPUnit では、Selenium のテストが失敗したときのスクリーンショットを撮ることができます。
      この機能を使うには、<code class="literal">$captureScreenshotOnFailure</code>、
      <code class="literal">$screenshotPath</code> および <code class="literal">$screenshotUrl</code>
      をテストケースクラス内で
      <a class="xref" href="selenium.html#selenium.seleniumtestcase.examples.WebTest2.php" title="例 13.3: テストに失敗したときのスクリーンショットの取得">例 13.3</a>
      のように指定します。
    </p><div class="example"><a id="selenium.seleniumtestcase.examples.WebTest2.php"></a><p class="title"><strong>例 13.3: テストに失敗したときのスクリーンショットの取得</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'PHPUnit/Extensions/SeleniumTestCase.php';

class WebTest extends PHPUnit_Extensions_SeleniumTestCase
{
    protected $captureScreenshotOnFailure = TRUE;
    protected $screenshotPath = '/var/www/localhost/htdocs/screenshots';
    protected $screenshotUrl = 'http://localhost/screenshots';

    protected function setUp()
    {
        $this-&gt;setBrowser('*firefox');
        $this-&gt;setBrowserUrl('http://www.example.com/');
    }

    public function testTitle()
    {
        $this-&gt;open('http://www.example.com/');
        $this-&gt;assertTitle('Example WWW Page');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit WebTest</code></strong>
PHPUnit 4.2.0 by Sebastian Bergmann.

F

Time: 7 seconds, Memory: 6.00Mb

There was 1 failure:

1) WebTest::testTitle
Current URL: http://www.iana.org/domains/example/
Screenshot: http://localhost/screenshots/334b080f2364b5f11568ee1c7f6742c9.png

Failed asserting that 'IANA — Example domains' matches PCRE pattern "/Example WWW Page/".


FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></br><p>
      複数のブラウザを使用してテストを行なうこともできます。この場合は、
      <code class="literal">setBrowser()</code> でブラウザの設定を行うかわりに、
      テストケースクラスの中で <code class="literal">$browsers</code> という名前の
      <code class="literal">public static</code> な配列を作成します。
      この配列の各項目が個々のブラウザの設定を表します。
      これらのブラウザは、それぞれ別の Selenium Server のサーバで管理することができます。
      <a class="xref" href="selenium.html#selenium.seleniumtestcase.examples.WebTest3.php" title="例 13.4: 複数のブラウザの設定管理">例 13.4</a>
      に例を示します。
    </p><div class="example"><a id="selenium.seleniumtestcase.examples.WebTest3.php"></a><p class="title"><strong>例 13.4: 複数のブラウザの設定管理</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'PHPUnit/Extensions/SeleniumTestCase.php';

class WebTest extends PHPUnit_Extensions_SeleniumTestCase
{
    public static $browsers = array(
      array(
        'name'    =&gt; 'Firefox on Linux',
        'browser' =&gt; '*firefox',
        'host'    =&gt; 'my.linux.box',
        'port'    =&gt; 4444,
        'timeout' =&gt; 30000,
      ),
      array(
        'name'    =&gt; 'Safari on MacOS X',
        'browser' =&gt; '*safari',
        'host'    =&gt; 'my.macosx.box',
        'port'    =&gt; 4444,
        'timeout' =&gt; 30000,
      ),
      array(
        'name'    =&gt; 'Safari on Windows XP',
        'browser' =&gt; '*custom C:\Program Files\Safari\Safari.exe -url',
        'host'    =&gt; 'my.windowsxp.box',
        'port'    =&gt; 4444,
        'timeout' =&gt; 30000,
      ),
      array(
        'name'    =&gt; 'Internet Explorer on Windows XP',
        'browser' =&gt; '*iexplore',
        'host'    =&gt; 'my.windowsxp.box',
        'port'    =&gt; 4444,
        'timeout' =&gt; 30000,
      )
    );

    protected function setUp()
    {
        $this-&gt;setBrowserUrl('http://www.example.com/');
    }

    public function testTitle()
    {
        $this-&gt;open('http://www.example.com/');
        $this-&gt;assertTitle('Example Web Page');
    }
}
?&gt;</pre></div></div><br class="example-break"></br><p>
      <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code> を使用すると、
      Selenium で実行したテストのカバレッジ情報を収集することができます。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><code class="filename">PHPUnit/Extensions/SeleniumCommon/phpunit_coverage.php</code> をウェブサーバのドキュメントルートディレクトリにコピーします。</li><li class="listitem">ウェブサーバ上の <code class="filename">php.ini</code> ファイルで、<code class="filename">PHPUnit/Extensions/SeleniumCommon/prepend.php</code> と <code class="filename">PHPUnit/Extensions/SeleniumCommon/append.php</code> をそれぞれ <code class="literal">auto_prepend_file</code> および <code class="literal">auto_append_file</code> に設定します。</li><li class="listitem"><code class="literal">PHPUnit_Extensions_SeleniumTestCase</code> を継承したテストケースクラスで、<pre class="programlisting">protected $coverageScriptUrl = 'http://host/phpunit_coverage.php';</pre> のようにして <code class="filename">phpunit_coverage.php</code> スクリプトの URL を指定します。</li></ol></div><p>
      <a class="xref" href="selenium.html#selenium.seleniumtestcase.tables.assertions" title="表13.2 アサーション">表 13.2</a>
      は、<code class="literal">PHPUnit_Extensions_SeleniumTestCase</code>
      が提供するさまざまなアサーションメソッドの一覧です。
    </p><div class="table"><a id="selenium.seleniumtestcase.tables.assertions"></a><p class="title"><strong>表13.2 アサーション</strong></p><div class="table-contents"><table summary="アサーション" border="1"><colgroup><col></col><col></col></colgroup><thead><tr><th align="left">アサーション</th><th align="left">意味</th></tr></thead><tbody><tr><td align="left"><code class="literal">void assertElementValueEquals(string $locator, string $text)</code></td><td align="left"><code class="literal">$locator</code> で表される要素の値が <code class="literal">$text</code> と異なる場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertElementValueNotEquals(string $locator, string $text)</code></td><td align="left"><code class="literal">$locator</code> で表される要素の値が <code class="literal">$text</code> と等しい場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertElementValueContains(string $locator, string $text)</code></td><td align="left"><code class="literal">$locator</code> で表される要素の値が <code class="literal">$text</code> を含まない場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertElementValueNotContains(string $locator, string $text)</code></td><td align="left"><code class="literal">$locator</code> で表される要素の値が <code class="literal">$text</code> を含む場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertElementContainsText(string $locator, string $text)</code></td><td align="left"><code class="literal">$locator</code> で表される要素が <code class="literal">$text</code> を含まない場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertElementNotContainsText(string $locator, string $text)</code></td><td align="left"><code class="literal">$locator</code> で表される要素が <code class="literal">$text</code> を含む場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertSelectHasOption(string $selectLocator, string $option)</code></td><td align="left">指定したオプションが使用できない場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertSelectNotHasOption(string $selectLocator, string $option)</code></td><td align="left">指定したオプションが使用できる場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertSelected($selectLocator, $option)</code></td><td align="left">指定したラベルが選択されていない場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertNotSelected($selectLocator, $option)</code></td><td align="left">指定したラベルが選択されている場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertIsSelected(string $selectLocator, string $value)</code></td><td align="left">指定した値が選択されていない場合にエラーを報告します。</td></tr><tr><td align="left"><code class="literal">void assertIsNotSelected(string $selectLocator, string $value)</code></td><td align="left">指定した値が選択されている場合にエラーを報告します。</td></tr></tbody></table></div></div><br class="table-break"></br><p>
      <a class="xref" href="selenium.html#selenium.seleniumtestcase.tables.template-methods" title="表13.3 テンプレートメソッド">表 13.3</a> は、
      <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code>
      のテンプレートメソッドをまとめたものです。
    </p><div class="table"><a id="selenium.seleniumtestcase.tables.template-methods"></a><p class="title"><strong>表13.3 テンプレートメソッド</strong></p><div class="table-contents"><table summary="テンプレートメソッド" border="1"><colgroup><col></col><col></col></colgroup><thead><tr><th align="left">メソッド</th><th align="left">意味</th></tr></thead><tbody><tr><td align="left"><code class="literal">void defaultAssertions()</code></td><td align="left">
             テストケース内のすべてのテストで共有するアサーションを上書きします。
             このメソッドは、Selenium Server のサーバにコマンドが送信されるたびに (送信された後に) コールされます。
            </td></tr></tbody></table></div></div><br class="table-break"></br><p>
      使用できるコマンドのリファレンスや実際の使用法については
      <a class="ulink" href="http://release.seleniumhq.org/selenium-core/1.0.1/reference.html" target="_top">Selenium のドキュメント</a>
      を参照ください。
    </p><p>
     Selenium 1 のコマンドは、__call で動的に実装されています。
     <a class="ulink" href="https://github.com/sebastianbergmann/phpunit-selenium/blob/master/PHPUnit/Extensions/SeleniumTestCase/Driver.php#L410" target="_top">
     PHPUnit_Extensions_SeleniumTestCase_Driver::__call() の API ドキュメント</a> に、PHP 側で対応しているすべてのメソッドの一覧があります。
     また、引数や返り値の型も確認できます。
    </p><p>
      <code class="literal">runSelenese($filename)</code> メソッドを使用すると、
      Selenese/HTML の設定から Selenium のテストを実行することができます。
      さらに、静的属性 <code class="literal">$seleneseDirectory</code> を使用すると、
      Selenese/HTML ファイルを含むディレクトリから自動的にテストオブジェクトを作成することができます。
      指定したディレクトリ配下を再帰的に走査し、
      <code class="literal">.htm</code> ファイルを探します。このファイルには
      Selenese/HTML が含まれているものとします。例として
      <a class="xref" href="selenium.html#selenium.seleniumtestcase.examples.WebTest4.php" title="例 13.5: Selenese/HTML ファイルのディレクトリをテストとして使用する">例 13.5</a>
      を参照ください。
    </p><div class="example"><a id="selenium.seleniumtestcase.examples.WebTest4.php"></a><p class="title"><strong>例 13.5: Selenese/HTML ファイルのディレクトリをテストとして使用する</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'PHPUnit/Extensions/SeleniumTestCase.php';

class SeleneseTests extends PHPUnit_Extensions_SeleniumTestCase
{
    public static $seleneseDirectory = '/path/to/files';
}
?&gt;</pre></div></div><br class="example-break"></br><p>
    Selenium 1.1.1 から取り込まれた実験的な機能として、ユーザーが複数のテストでセッションを共有できるようになりました。
    現在サポートしているのは、ひとつのブラウザを使うときに全テストでセッションを共有するという場合だけです。
    セッションの共有機能を使うには、ブートストラップファイルで
    <code class="literal">PHPUnit_Extensions_SeleniumTestCase::shareSession(true)</code> をコールします。
    テストが成功しなかった (失敗、あるいは不完全) 場合は、共有セッションがリセットされます。
    クッキーをリセットしたり、(tearDown() メソッドで) テスト対象のアプリケーションからログアウトしたりして
    テストがお互い干渉しあわないようにするのは、ユーザ側の責任となります。
    </p></div></div>
     <div class="row">
      <div class="col-md-1 pull-left prev-nav"><a accesskey="p" href="other-uses-for-tests.html">戻る</a></div>
      <div class="col-md-1 pull-right next-nav"><a accesskey="n" href="logging.html">次へ</a></div>
     </div>
<div class="row"><div class="col-md-2"></div><div class="col-md-8"><div class="alert alert-info" style="text-align: center;">このページの改善案を<a href="https://github.com/sebastianbergmann/phpunit-documentation/issues">GitHubで提案</a>してください!</div></div><div class="col-md-2"></div></div>
    </div>
   </div>
   <hr/>
   <footer>
    <p><a href="appendixes.copyright.html">Copyright</a> &copy; 2005-2014 <a href="http://sebastian-bergmann.de/">Sebastian Bergmann</a>.</p>
   </footer>
  </div>
  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/highlight.pack.js"></script>
  <script type="text/javascript">
  $(document).ready(function() { $('pre.programlisting').each(function(i, e) {hljs.highlightBlock(e)}); });

  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.sebastian-bergmann.de/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "2"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
  </script>
 </body>
</html>
