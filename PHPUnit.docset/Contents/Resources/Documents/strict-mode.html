<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <title>PHPUnit マニュアル &#8211; 第6章 Strict モード</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="canonical" href="strict-mode.html">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/highlight.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700%7CSource+Code+Pro:400,700' rel='stylesheet' type='text/css'>
  <!--[if lt IE 9]><script src="js/html5shiv.min.js"></script><![endif]-->
 </head>
 <body>
  
  <div class="container-fluid">
   <div class="row">
    <div style='padding: 1.5em'>
     <div class="row">
      <div class="col-md-1 pull-left prev-nav"><a accesskey="p" href="organizing-tests.html">戻る</a></div>
      <div class="col-md-1 pull-right next-nav"><a accesskey="n" href="incomplete-and-skipped-tests.html">次へ</a></div>
     </div>
<div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="strict-mode"></a>第6章 Strict モード</h1></div></div></div><p>
    PHPUnit は、テストを実行する際に、追加のチェックをすることができます。
    以下に示すさまざまなモードによるきめ細やかな制御だけでなく、
    コマンドラインオプション <code class="literal">--strict</code> を使ったり、PHPUnit
    の XML 設定ファイルで <code class="literal">strict="true"</code> を設定することで、
    これらを一括で有効にすることもできます。
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="strict-mode.useless-tests"></a>無意味なテスト</h2></div></div></div><p>
      PHPUnit は、何も確かめていないテストを検出することができます。
      このチェックを有効にするには、コマンドラインオプション
      <code class="literal">--report-useless-tests</code>
      を使うか、あるいは PHPUnit の XML 設定ファイルで
      <code class="literal">beStrictAboutTestsThatDoNotTestAnything="true"</code>
      を設定します。
    </p><p>
      何もアサーションを実行していないテストは、このチェックを有効にしておくと、
      危険であるとマークされます。モックオブジェクトでの例外や、
      <code class="code">@expectedException</code> などのアノテーションは、アサーションとみなします。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="strict-mode.unintentionally-covered-code"></a>意図せぬうちにカバーされているコード</h2></div></div></div><p>
      PHPUnit は、意図せずカバーされているコードを検出することができます。
      このチェックを有効にするには、コマンドラインオプション
      <code class="literal">--strict-coverage</code>
      を使うか、あるいは PHPUnit の XML 設定ファイルで
      <code class="literal">checkForUnintentionallyCoveredCode="true"</code>
      を設定します。
    </p><p>
      <code class="code">@covers</code> アノテーションつきのテストが、
      <code class="code">@covers</code> や <code class="code">@uses</code> に記されていないコードを実行している場合に、
      このチェックを有効にしておくと、危険であるとマークされます。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="strict-mode.output-during-test-execution"></a>テストの実行時の出力</h2></div></div></div><p>
      PHPUnit は、テストの最中の出力を検出することができます。
      このチェックを有効にするには、コマンドラインオプション
      <code class="literal">--disallow-test-output</code>
      を使うか、あるいは PHPUnit の XML 設定ファイルで
      <code class="literal">beStrictAboutOutputDuringTests="true"</code>
      を設定します。
    </p><p>
      テストコードあるいは被テストコードの中で、<code class="code">print</code>
      などで何かを出力している場合に、
      このチェックを有効にしておくと、危険であるとマークされます。
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="strict-mode.test-execution-timeout"></a>テストの実行時のタイムアウト</h2></div></div></div><p>
      <code class="literal">PHP_Invoker</code> パッケージがインストールされており、
      かつ <code class="literal">pcntl</code> 拡張モジュールが利用可能な場合は、
      テストの実行時間に制限を設けることができます。
      この時間制限を有効にするには、コマンドラインオプション
      <code class="literal">--enforce-time-limit</code>
      を使うか、あるいは PHPUnit の XML 設定ファイルで
      <code class="literal">beStrictAboutTestSize="true"</code>
      を設定します。
    </p><p>
      <code class="literal">@large</code> とマークされたテストは、
      実行時間が 60 秒を超えたら失敗します。
      このタイムアウト時間は、XML 設定ファイルの
      <code class="literal">timeoutForLargeTests</code> 属性で変更できます。
    </p><p>
      <code class="literal">@medium</code> とマークされたテストは、
      実行時間が 10 秒を超えたら失敗します。
      このタイムアウト時間は、XML 設定ファイルの
      <code class="literal">timeoutForMediumTests</code> 属性で変更できます。
    </p><p>
      <code class="literal">@medium</code> とも <code class="literal">@large</code> ともマークされていないテストは、
      <code class="literal">@small</code> とマークされたものとみなします。
      このテストは、実行時間が 1 秒を超えたら失敗します。
      このタイムアウト時間は、XML 設定ファイルの
      <code class="literal">timeoutForSmallTests</code> 属性で変更できます。
    </p></div></div>
     <div class="row">
      <div class="col-md-1 pull-left prev-nav"><a accesskey="p" href="organizing-tests.html">戻る</a></div>
      <div class="col-md-1 pull-right next-nav"><a accesskey="n" href="incomplete-and-skipped-tests.html">次へ</a></div>
     </div>
<div class="row"><div class="col-md-2"></div><div class="col-md-8"><div class="alert alert-info" style="text-align: center;">このページの改善案を<a href="https://github.com/sebastianbergmann/phpunit-documentation/issues">GitHubで提案</a>してください!</div></div><div class="col-md-2"></div></div>
    </div>
   </div>
   <hr/>
   <footer>
    <p><a href="appendixes.copyright.html">Copyright</a> &copy; 2005-2014 <a href="http://sebastian-bergmann.de/">Sebastian Bergmann</a>.</p>
   </footer>
  </div>
  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/highlight.pack.js"></script>
  <script type="text/javascript">
  $(document).ready(function() { $('pre.programlisting').each(function(i, e) {hljs.highlightBlock(e)}); });

  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.sebastian-bergmann.de/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "2"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
  </script>
 </body>
</html>
